<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Whispering Pines Retreat | Dhanaulti Homestay</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
   <link rel="stylesheet" href="styles.css">

</head>
<body>
    <!-- Dark Mode Toggle -->
    <button id="darkModeToggle" aria-label="Toggle dark mode" style="position:fixed;top:20px;right:20px;z-index:2001;background:#fff;color:#222;border-radius:50%;width:44px;height:44px;border:none;box-shadow:0 2px 8px rgba(0,0,0,0.12);font-size:1.3rem;cursor:pointer;transition:background 0.3s;">
        <i class="fas fa-moon"></i>
</head>
<style>
/* Move dark mode toggle button style to CSS */
#darkModeToggle {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 2001;
    background: #fff;
    color: #222;
    border-radius: 50%;
    width: 44px;
    height: 44px;
    border: none;
    box-shadow: 0 2px 8px rgba(0,0,0,0.12);
    font-size: 1.3rem;
    cursor: pointer;
    transition: background 0.3s;
}
#darkModeToggle:hover {
    background: #e2725b;
    color: #fff;
}
</style>
    </button>
    <!-- Back to Top Button -->
    <button id="backToTop" aria-label="Back to top"><i class="fas fa-arrow-up"></i></button>
    <!-- Navigation -->
    <nav id="navbar">
        <div class="nav-container">
            <a href="#" class="logo">The Whispering Pines Retreat</a>
            <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Open navigation menu">
                <i class="fas fa-bars"></i>
            </button>
            <div class="nav-links" id="navLinks">
                <a href="#rooms">Rooms</a>
                <a href="#amenities">Amenities</a>
                <a href="#gallery">Gallery</a>
                <a href="#testimonials">Testimonials</a>
                <a href="#contact">Contact</a>
                <a href="#booking" class="cta-button nav-cta">Book Now</a>
            </div>
        </div>
    </nav>

    <!-- Header/Hero Section -->
    <header>
        <div class="hero-content">
            <h1>Welcome to The Whispering Pines Retreat</h1>
            <p>A cozy homestay nestled in the peaceful pine-covered hills near Dhanaulti, overlooking the breathtaking Mussoorie valley</p>
            <a href="#booking" class="cta-button">Check Availability</a>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container main-content">
        <div class="content">
            <!-- Booking Section -->
            <section id="booking" class="contact-section fade-in">
                <h2 class="section-title">Book Your Stay</h2>
                <form id="bookingForm" class="contact-form" autocomplete="off" novalidate>
                    <div class="form-group">
                        <input type="text" id="guestName" name="guestName" placeholder="Your Name" required aria-label="Your Name">
                    </div>
                    <div class="form-group">
                        <input type="email" id="guestEmail" name="guestEmail" placeholder="Your Email" required aria-label="Your Email">
                    </div>
                    <div class="form-group">
                        <input type="date" id="checkIn" name="checkIn" required aria-label="Check-in Date">
                    </div>
                    <div class="form-group">
                        <input type="date" id="checkOut" name="checkOut" required aria-label="Check-out Date">
                    </div>
                    <div class="form-group">
                        <input type="number" id="guests" name="guests" min="1" max="10" placeholder="Number of Guests" required aria-label="Number of Guests">
                    </div>
                    <button type="submit" class="cta-button submit-btn">Book Now</button>
                    <div id="bookingMsg" class="booking-msg"></div>
                </form>
            </section>

            <!-- Weather Widget -->
            <section class="fade-in">
                <div class="weather-widget" id="weatherWidget">
                    <h2 class="section-title">Current Weather</h2>
                    <div class="weather-header">
                        <span class="weather-location">Dhanaulti</span>
                        <span class="weather-date" id="weatherDate"></span>
                    </div>
                    <div class="weather-main">
                        <span class="weather-icon" id="weatherIcon">☀️</span>
                        <span class="weather-temp" id="weatherTemp">--°C</span>
                        <span class="weather-desc" id="weatherDesc">Loading...</span>
                    </div>
                </div>
            </section>

            <!-- Google Maps Embed -->
            <section class="fade-in">
                <h2 class="section-title">Find Us</h2>
                <div class="map-embed-container">
                    <iframe title="Google Map Dhanaulti" src="https://www.google.com/maps?q=Dhanaulti,Uttarakhand,India&output=embed" width="100%" height="300" class="map-embed" allowfullscreen="" loading="lazy"></iframe>
                </div>
            </section>
            <!-- FAQ Section -->
            <section class="faq-section" id="faq">
                <h2 class="faq-title">Frequently Asked Questions</h2>
                <div class="faq-list">
                    <div class="faq-item">
                        <div class="faq-question">What is the check-in and check-out time?</div>
                        <div class="faq-answer">Check-in is from 1:00 PM and check-out is by 11:00 AM. Early check-in/late check-out may be available on request.</div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question">Is parking available?</div>
                        <div class="faq-answer">Yes, we offer free parking for all guests on the property.</div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question">Are pets allowed?</div>
                        <div class="faq-answer">We are pet-friendly! Please inform us in advance if you are bringing a pet.</div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question">How do I book a room?</div>
                        <div class="faq-answer">You can book directly through our website or contact us via phone/email for personalized assistance.</div>
                    </div>
                </div>
            </section>
            <!-- About Section -->
            <section id="about">
                <h2 class="section-title">Your Peaceful Mountain Escape</h2>
                <p>Surrounded by lush greenery, our retreat offers the perfect escape for nature lovers, remote workers, couples, solo travelers, and spiritual seekers. The Whispering Pines is more than just accommodation - it's an experience that rejuvenates your mind, body, and soul.</p>
                <div class="about-grid">
                    <div class="about-image">
                        <img src="homestay2/retreat-exterior.jpg" alt="Retreat exterior" loading="lazy">
                    </div>
                    <div class="about-text">
                        <h3>A Home Among the Pines</h3>
                        <p>Our retreat features 4 beautifully designed wooden rooms — two with stunning valley views and two facing the dense forest — all combining rustic charm with modern comfort. Each space has been carefully crafted to harmonize with the natural surroundings while providing all the comforts you need.</p>
                        <p>Wake up to birdsong, spend your days exploring the forests, and end your evenings by the bonfire under a blanket of stars.</p>
                    </div>
                </div>
            </section>

            <!-- Rooms Section -->
            <section id="rooms">
                <h2 class="section-title">Our Rooms</h2>
                <div class="room-grid">
                    <!-- Valley View Room 1 -->
                    <div class="room-card">
                        <img src="homestay2/valley-room-1.jpg" alt="Valley View Room" class="room-image" loading="lazy">
                        <div class="room-info">
                            <h3 class="room-title">Valley View Suite</h3>
                            <p>Wake up to breathtaking views of the Mussoorie valley from your private balcony.</p>
                            <div class="room-features">
                                <span class="feature-tag">King Bed</span>
                                <span class="feature-tag">Balcony</span>
                                <span class="feature-tag">Forest View</span>
                                <span class="feature-tag">Heater</span>
                            </div>
                            <div class="room-price">₹3,500/night</div>
                            <a href="#booking" class="cta-button small-btn">Book Now</a>
                        </div>
                    </div>
                    <!-- Add more room cards as needed -->
                </div>
            </section>
        </div>
    </div>

    <!-- Footer -->
    <!-- Lightbox for Gallery (hidden by default) -->
    <div class="lightbox" id="lightbox">
        <button class="lightbox-arrow left" id="lightboxPrev" aria-label="Previous image"><i class="fas fa-chevron-left"></i></button>
        <img src="" alt="Gallery Image" id="lightboxImg">
        <button class="lightbox-arrow right" id="lightboxNext" aria-label="Next image"><i class="fas fa-chevron-right"></i></button>
        <button class="lightbox-close" id="lightboxClose" aria-label="Close"><i class="fas fa-times"></i></button>
    </div>
    <footer>
        <div class="container">
            <div class="footer-grid">
                <div class="footer-about">
                    <div class="footer-logo">The Whispering Pines Retreat</div>
                    <p>Handcrafted wooden furniture made with tradition and care.</p>
                    <div class="footer-social">
                        <a href="#" title="Instagram" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="#" title="Facebook" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" title="Twitter" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="#" title="Pinterest" aria-label="Pinterest"><i class="fab fa-pinterest-p"></i></a>
                    </div>
                </div>
                <div class="footer-links">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="#about">About Us</a></li>
                        <li><a href="#rooms">Our Rooms</a></li>
                        <li><a href="#amenities">Amenities</a></li>
                        <li><a href="#gallery">Photo Gallery</a></li>
                        <li><a href="#testimonials">Guest Reviews</a></li>
                    </ul>
                </div>
                <div class="footer-contact">
                    <h3>Contact Us</h3>
                    <div class="contact-item">
                        <i class="fas fa-map-marker-alt contact-icon"></i>
                        <span>Near Dhanaulti, Mussoorie Road, Uttarakhand</span>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-phone contact-icon"></i>
                        <span>+91 98765 43210</span>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-envelope contact-icon"></i>
                        <span>hello@whisperingpinesretreat.com</span>
                    </div>
                </div>
            </div>
            <div class="copyright">
                <p>© 2023 The Whispering Pines Retreat. All rights reserved. | Crafted with <i class="fas fa-heart"></i> in India</p>
            </div>
        </div>
    </footer>

    <script>
        // Booking Form Validation
        document.getElementById('bookingForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const name = document.getElementById('guestName').value.trim();
            const email = document.getElementById('guestEmail').value.trim();
            const checkIn = document.getElementById('checkIn').value;
            const checkOut = document.getElementById('checkOut').value;
            const guests = document.getElementById('guests').value;
            let msg = '';
            if(!name || !email || !checkIn || !checkOut || !guests) {
                msg = '<span style="color:#e2725b;">Please fill in all fields.</span>';
            } else if(!/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(email)) {
                msg = '<span style="color:#e2725b;">Please enter a valid email address.</span>';
            } else if(new Date(checkIn) >= new Date(checkOut)) {
                msg = '<span style="color:#e2725b;">Check-out must be after check-in.</span>';
            } else {
                msg = '<span style="color:var(--forest);">Thank you, '+name+'! Your booking request has been received. We will contact you soon.</span>';
                this.reset();
            }
            document.getElementById('bookingMsg').innerHTML = msg;
        });

        // Weather Widget (Open-Meteo API, fallback to static if offline)
        function updateWeatherWidget() {
            const tempEl = document.getElementById('weatherTemp');
            const descEl = document.getElementById('weatherDesc');
            const iconEl = document.getElementById('weatherIcon');
            const dateEl = document.getElementById('weatherDate');
            const today = new Date();
            dateEl.textContent = today.toLocaleDateString();
            fetch('https://api.open-meteo.com/v1/forecast?latitude=30.41&longitude=78.24&current_weather=true')
                .then(r => r.json())
                .then(data => {
                    if(data.current_weather) {
                        const temp = data.current_weather.temperature;
                        const code = data.current_weather.weathercode;
                        let icon = '☀️', desc = 'Clear';
                        if(code >= 1 && code <= 3) { icon = '⛅', desc = 'Partly Cloudy'; }
                        if(code >= 45 && code <= 48) { icon = '🌫️', desc = 'Fog'; }
                        if(code >= 51 && code <= 67) { icon = '🌦️', desc = 'Drizzle'; }
                        if(code >= 71 && code <= 77) { icon = '❄️', desc = 'Snow'; }
                        if(code >= 80 && code <= 99) { icon = '🌧️', desc = 'Rain'; }
                        tempEl.textContent = temp + '°C';
                        descEl.textContent = desc;
                        iconEl.textContent = icon;
                    } else {
                        tempEl.textContent = '--°C';
                        descEl.textContent = 'Unavailable';
                        iconEl.textContent = '❓';
                    }
                })
                .catch(() => {
                    tempEl.textContent = '--°C';
                    descEl.textContent = 'Unavailable';
                    iconEl.textContent = '❓';
                });
        }
        updateWeatherWidget();
        // Mobile menu toggle
        document.getElementById('mobileMenuBtn').addEventListener('click', function() {
            document.getElementById('navLinks').classList.toggle('active');
        });

        // Navbar scroll effect & Back to Top
        const backToTopBtn = document.getElementById('backToTop');
        window.addEventListener('scroll', function() {
            const navbar = document.getElementById('navbar');
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
                backToTopBtn.style.display = 'block';
            } else {
                navbar.classList.remove('scrolled');
                backToTopBtn.style.display = 'none';
            }
        });
        backToTopBtn.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Dark Mode Toggle
        const darkModeToggle = document.getElementById('darkModeToggle');
        darkModeToggle.addEventListener('click', function() {
            document.body.classList.toggle('dark-mode');
            const icon = darkModeToggle.querySelector('i');
            if(document.body.classList.contains('dark-mode')) {
                icon.classList.remove('fa-moon');
                icon.classList.add('fa-sun');
                darkModeToggle.style.background = '#23272e';
                darkModeToggle.style.color = '#fff';
            } else {
                icon.classList.remove('fa-sun');
                icon.classList.add('fa-moon');
                darkModeToggle.style.background = '#fff';
                darkModeToggle.style.color = '#222';
            }
        });

        // Gallery Lightbox
        const galleryImages = document.querySelectorAll('.gallery-item img');
        const lightbox = document.getElementById('lightbox');
        const lightboxImg = document.getElementById('lightboxImg');
        const lightboxClose = document.getElementById('lightboxClose');
        const lightboxPrev = document.getElementById('lightboxPrev');
        const lightboxNext = document.getElementById('lightboxNext');
        let currentImgIdx = 0;
        let galleryImgArr = Array.from(galleryImages);
        function showLightbox(idx) {
            if(galleryImgArr.length === 0) return;
            currentImgIdx = idx;
            lightboxImg.src = galleryImgArr[idx].src;
            lightbox.classList.add('active');
        }
        galleryImgArr.forEach((img, idx) => {
            img.style.cursor = 'pointer';
            img.addEventListener('click', () => showLightbox(idx));
        });
        function closeLightbox() {
            lightbox.classList.remove('active');
        }
        function prevLightbox() {
            currentImgIdx = (currentImgIdx - 1 + galleryImgArr.length) % galleryImgArr.length;
            lightboxImg.src = galleryImgArr[currentImgIdx].src;
        }
        function nextLightbox() {
            currentImgIdx = (currentImgIdx + 1) % galleryImgArr.length;
            lightboxImg.src = galleryImgArr[currentImgIdx].src;
        }
        lightboxClose.addEventListener('click', closeLightbox);
        lightboxPrev.addEventListener('click', prevLightbox);
        lightboxNext.addEventListener('click', nextLightbox);
        lightbox.addEventListener('click', function(e) {
            if(e.target === lightbox) closeLightbox();
        });

        // Testimonials Carousel
        const testimonials = document.querySelectorAll('.testimonial');
        let testimonialIdx = 0;
        function showTestimonial(idx) {
            testimonials.forEach((t, i) => {
                t.classList.toggle('active', i === idx);
            });
        }
        function nextTestimonial() {
            testimonialIdx = (testimonialIdx + 1) % testimonials.length;
            showTestimonial(testimonialIdx);
        }
        function prevTestimonial() {
            testimonialIdx = (testimonialIdx - 1 + testimonials.length) % testimonials.length;
            showTestimonial(testimonialIdx);
        }
        // Add carousel controls if testimonials exist
        if(testimonials.length > 1) {
            const controls = document.createElement('div');
            controls.className = 'testimonial-carousel-controls';
            controls.innerHTML = `
                <button class="testimonial-carousel-btn" id="testimonialPrev" aria-label="Previous testimonial"><i class="fas fa-chevron-left"></i></button>
                <button class="testimonial-carousel-btn" id="testimonialNext" aria-label="Next testimonial"><i class="fas fa-chevron-right"></i></button>
            `;
            testimonials[0].parentNode.appendChild(controls);
            document.getElementById('testimonialPrev').onclick = prevTestimonial;
            document.getElementById('testimonialNext').onclick = nextTestimonial;
            showTestimonial(0);
        } else if(testimonials.length === 1) {
            testimonials[0].classList.add('active');
        }

        // FAQ Accordion
        document.querySelectorAll('.faq-question').forEach(q => {
            q.addEventListener('click', function() {
                const item = this.parentNode;
                item.classList.toggle('active');
            });
        });

        // Section Fade-in Animation
        const fadeEls = document.querySelectorAll('.fade-in');
        function handleFadeIn() {
            fadeEls.forEach(el => {
                const rect = el.getBoundingClientRect();
                if(rect.top < window.innerHeight - 60) {
                    el.classList.add('visible');
                }
            });
        }
        window.addEventListener('scroll', handleFadeIn);
        window.addEventListener('load', handleFadeIn);
    </script>
</body>
</html>